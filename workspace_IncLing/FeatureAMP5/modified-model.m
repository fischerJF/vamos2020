FEATUREAMP___ : BASE___ :: _FEATUREAMP___ ;

BASE___ : FILESUPPORT___+ GUI___ [SHOWCOVER___] :: _BASE___ ;

FILESUPPORT___ : MP3___
	| WAVE___ ;



GUI___ : [VOLUMECONTROL___] PROGRESS___+ [PLAYLIST___] SKINS___ :: _GUI___ ;

VOLUMECONTROL___ : [MUTE___] :: _VOLUMECONTROL___ ;

PROGRESS___ : PROGRESSBAR___
	| SHOWTIME___ ;

PLAYLIST___ : LOADFOLDER___ PLAYLISTCONTROLS___+ [SAVEANDLOADPLAYLIST___] [QUEUETRACK___] [CLEARPLAYLIST___] [SKIPREPEAT___] :: _PLAYLIST___ ;

PLAYLISTCONTROLS___ : SHUFFLEREPEAT___
	| SKIPTRACK___
	| REMOVETRACK___
	| REORDERPLAYLIST___ ;

QUEUETRACK___ : [QUEUEREMOVE___] :: _QUEUETRACK___ ;

SKINS___ : LIGHT___
	| DARK___ ;

%%

PLAYLIST___ implies PROGRESSBAR___ ;
SKIPREPEAT___ iff SHUFFLEREPEAT___ and SKIPTRACK___ ;
SAVEANDLOADPLAYLIST___ implies CLEARPLAYLIST___ ;
QUEUEREMOVE___ iff QUEUETRACK___ and REMOVETRACK___ ;
CLEARPLAYLIST___ implies REMOVETRACK___ ;
SKIPREPEAT___ implies SKIPTRACK___ ;
SHOWCOVER___  implies MP3___ ;